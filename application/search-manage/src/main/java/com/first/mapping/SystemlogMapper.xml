<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.first.IDao.SystemlogMapper">
<insert id="addSysLog" parameterType="com.first.system.domain.Systemlog" >
         INSERT INTO systemlog(account,logintime,loginIP ,remark)
              VALUES(#{account},#{logintime},#{loginIP},#{remark})
</insert>

<select id="selectPageList" parameterType="com.first.system.domain.Systemlog" resultType="com.first.system.domain.Systemlog">
     SELECT  logId,account,logintime,loginIP ,remark FROM  systemlog  WHERE 1=1
      <if test="account!=null and account!=''">
		   and account like CONCAT('%','${account}','%' )  
      </if>
      
      <if test="startTime!=null and startTime!=''">
          <![CDATA[ and  logintime>=#{startTime}]]>
      </if>
      
      <if test="endTime!=null and endTime!=''">
          <![CDATA[ and  logintime<=#{endTime}]]>
      </if>
       ORDER BY  logintime DESC 
      <if test="pageSize!=null and pageSize!=''">
	       limit #{offset},#{pageSize}
	 </if>
</select>

<select id="pageCount" parameterType="com.first.system.domain.Systemlog"  resultType="java.lang.Integer">
    SELECT  count(1) FROM  systemlog  WHERE 1=1
    <if test="account!=null  and account!=''">
		 and account like CONCAT('%','${account}','%' )  
    </if>
     <if test="startTime!=null and startTime!=''">
          <![CDATA[ and  logintime>=#{startTime}]]>
     </if>
     <if test="endTime!=null and endTime!=''">
          <![CDATA[ and  logintime<=#{endTime}]]>
     </if>
</select>
</mapper>